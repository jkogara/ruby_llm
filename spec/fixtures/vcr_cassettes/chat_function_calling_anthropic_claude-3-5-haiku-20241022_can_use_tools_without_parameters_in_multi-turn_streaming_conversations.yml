---
http_interactions:
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]}],"stream":true,"max_tokens":8000,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}],"system":[{"type":"text","text":"You
        must use tools whenever possible."}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 22 Oct 2025 21:41:35 GMT
      Content-Type:
      - text/event-stream; charset=utf-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Ray:
      - "<CF_RAY>"
      Cache-Control:
      - no-cache
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '400000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '400000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-10-22T21:41:35Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-10-22T21:41:35Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '4000'
      Anthropic-Ratelimit-Requests-Remaining:
      - '3999'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-10-22T21:41:35Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '480000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '480000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-10-22T21:41:35Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - "<ANTHROPIC_ORGANIZATION_ID>"
      X-Envoy-Upstream-Service-Time:
      - '564'
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
    body:
      encoding: UTF-8
      string: |+
        event: message_start
        data: {"type":"message_start","message":{"model":"claude-3-5-haiku-20241022","id":"msg_01Ram5sxGQN68cUCPb5nA7bb","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":335,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}}          }

        event: content_block_start
        data: {"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}        }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"I"}          }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"'ll"}           }

        event: ping
        data: {"type": "ping"}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" help"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" you find out"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" by"}              }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" using"}          }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" the available"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" tool"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" to"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" determine"} }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" the best language to learn"}           }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"."}             }

        event: content_block_stop
        data: {"type":"content_block_stop","index":0        }

        event: content_block_start
        data: {"type":"content_block_start","index":1,"content_block":{"type":"tool_use","id":"toolu_01SCgQ8nocKWbUMZqYmXb7kV","name":"best_language_to_learn","input":{}}               }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"input_json_delta","partial_json":""}           }

        event: content_block_stop
        data: {"type":"content_block_stop","index":1 }

        event: message_delta
        data: {"type":"message_delta","delta":{"stop_reason":"tool_use","stop_sequence":null},"usage":{"input_tokens":335,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":60}          }

        event: message_stop
        data: {"type":"message_stop"     }

  recorded_at: Wed, 22 Oct 2025 21:41:37 GMT
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out by using the available tool to determine the best language
        to learn."},{"type":"tool_use","id":"toolu_01SCgQ8nocKWbUMZqYmXb7kV","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_01SCgQ8nocKWbUMZqYmXb7kV","content":[{"type":"text","text":"Ruby"}]}]}],"stream":true,"max_tokens":8000,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}],"system":[{"type":"text","text":"You
        must use tools whenever possible."}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 22 Oct 2025 21:41:37 GMT
      Content-Type:
      - text/event-stream; charset=utf-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Ray:
      - "<CF_RAY>"
      Cache-Control:
      - no-cache
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '400000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '400000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-10-22T21:41:37Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-10-22T21:41:37Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '4000'
      Anthropic-Ratelimit-Requests-Remaining:
      - '3999'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-10-22T21:41:37Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '480000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '480000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-10-22T21:41:37Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - "<ANTHROPIC_ORGANIZATION_ID>"
      X-Envoy-Upstream-Service-Time:
      - '362'
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
    body:
      encoding: UTF-8
      string: |+
        event: message_start
        data: {"type":"message_start","message":{"model":"claude-3-5-haiku-20241022","id":"msg_01WLK6zdjrriuoahtDfWGZhc","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":407,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}}             }

        event: content_block_start
        data: {"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"According"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" to the tool, Ruby"}       }

        event: ping
        data: {"type": "ping"}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" is currently"}}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" considere"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"d the best language to learn"}      }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":". Ruby"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" is a dynamic, object"}              }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"-oriented programming language known"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" for its simplicity an"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"d readability. It's"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" particularly"}           }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" popular"}              }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" for"}               }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" web development, especially"}          }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" with"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" the"}           }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" Ruby"} }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" on Rails framework. "}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"\n\nSome"}              }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" reasons"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" why Ruby might"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" be a"}    }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" great"}    }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" language"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" to learn:"}}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"\n1"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":". Easy"} }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" to rea"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"d and write syntax"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"\n2. Strong"}          }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" community"}        }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" support"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"\n3. Versat"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"ile"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" for"}               }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" web"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" development"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"\n4. Use"}           }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"d in"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" many start"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"ups and tech"}        }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" companies\n5. Goo"}      }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"d for begin"}          }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"ners due"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" to its intu"} }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"itive nature\n\nHowever"}           }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":", the"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" \""}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"best\" language can"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" depen"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"d on your specific goals,"}        }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" such"}               }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" as web"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" development, data science,"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" mobile"}          }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" apps"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":", or"}          }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" other"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" areas of"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" programming"}        }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":". While"}   }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" Ruby is recommende"}               }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"d here"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":", it"}              }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"'s always good to consider"}        }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" your personal"}           }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" objectives"}   }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" when"}}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" choosing"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" a programming"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" language to"}          }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" learn.\n\nWoul"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"d you like to"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" know"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" more about Ruby or discuss"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" how"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" it"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" might"}               }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" fit"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" with"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" your programming"}}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" goals"}        }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"?"}    }

        event: content_block_stop
        data: {"type":"content_block_stop","index":0              }

        event: message_delta
        data: {"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"input_tokens":407,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":191} }

        event: message_stop
        data: {"type":"message_stop"       }

  recorded_at: Wed, 22 Oct 2025 21:41:41 GMT
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out by using the available tool to determine the best language
        to learn."},{"type":"tool_use","id":"toolu_01SCgQ8nocKWbUMZqYmXb7kV","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_01SCgQ8nocKWbUMZqYmXb7kV","content":[{"type":"text","text":"Ruby"}]}]},{"role":"assistant","content":[{"type":"text","text":"According
        to the tool, Ruby is currently considered the best language to learn. Ruby
        is a dynamic, object-oriented programming language known for its simplicity
        and readability. It''s particularly popular for web development, especially
        with the Ruby on Rails framework. \n\nSome reasons why Ruby might be a great
        language to learn:\n1. Easy to read and write syntax\n2. Strong community
        support\n3. Versatile for web development\n4. Used in many startups and tech
        companies\n5. Good for beginners due to its intuitive nature\n\nHowever, the
        \"best\" language can depend on your specific goals, such as web development,
        data science, mobile apps, or other areas of programming. While Ruby is recommended
        here, it''s always good to consider your personal objectives when choosing
        a programming language to learn.\n\nWould you like to know more about Ruby
        or discuss how it might fit with your programming goals?"}]},{"role":"user","content":[{"type":"text","text":"Tell
        me again: what''s the best language to learn?"}]}],"stream":true,"max_tokens":8000,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}],"system":[{"type":"text","text":"You
        must use tools whenever possible."}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 22 Oct 2025 21:41:42 GMT
      Content-Type:
      - text/event-stream; charset=utf-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Ray:
      - "<CF_RAY>"
      Cache-Control:
      - no-cache
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '400000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '399000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-10-22T21:41:42Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-10-22T21:41:42Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '4000'
      Anthropic-Ratelimit-Requests-Remaining:
      - '3999'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-10-22T21:41:42Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '480000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '479000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-10-22T21:41:42Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - "<ANTHROPIC_ORGANIZATION_ID>"
      X-Envoy-Upstream-Service-Time:
      - '515'
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
    body:
      encoding: UTF-8
      string: |+
        event: message_start
        data: {"type":"message_start","message":{"model":"claude-3-5-haiku-20241022","id":"msg_01X8u4Eo1FyzpatqyFersHmR","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":613,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":2,"service_tier":"standard"}}     }

        event: content_block_start
        data: {"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}               }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"I'll"}      }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" check"}       }

        event: ping
        data: {"type": "ping"}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" again using"}}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" the"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" tool to"}        }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" confirm"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" the recommendation:"}            }

        event: content_block_stop
        data: {"type":"content_block_stop","index":0 }

        event: content_block_start
        data: {"type":"content_block_start","index":1,"content_block":{"type":"tool_use","id":"toolu_014wDr5Bm9gtrmmsumKhNhPt","name":"best_language_to_learn","input":{}}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"input_json_delta","partial_json":""} }

        event: content_block_stop
        data: {"type":"content_block_stop","index":1   }

        event: message_delta
        data: {"type":"message_delta","delta":{"stop_reason":"tool_use","stop_sequence":null},"usage":{"input_tokens":613,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":53}        }

        event: message_stop
        data: {"type":"message_stop"  }

  recorded_at: Wed, 22 Oct 2025 21:41:43 GMT
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out by using the available tool to determine the best language
        to learn."},{"type":"tool_use","id":"toolu_01SCgQ8nocKWbUMZqYmXb7kV","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_01SCgQ8nocKWbUMZqYmXb7kV","content":[{"type":"text","text":"Ruby"}]}]},{"role":"assistant","content":[{"type":"text","text":"According
        to the tool, Ruby is currently considered the best language to learn. Ruby
        is a dynamic, object-oriented programming language known for its simplicity
        and readability. It''s particularly popular for web development, especially
        with the Ruby on Rails framework. \n\nSome reasons why Ruby might be a great
        language to learn:\n1. Easy to read and write syntax\n2. Strong community
        support\n3. Versatile for web development\n4. Used in many startups and tech
        companies\n5. Good for beginners due to its intuitive nature\n\nHowever, the
        \"best\" language can depend on your specific goals, such as web development,
        data science, mobile apps, or other areas of programming. While Ruby is recommended
        here, it''s always good to consider your personal objectives when choosing
        a programming language to learn.\n\nWould you like to know more about Ruby
        or discuss how it might fit with your programming goals?"}]},{"role":"user","content":[{"type":"text","text":"Tell
        me again: what''s the best language to learn?"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        check again using the tool to confirm the recommendation:"},{"type":"tool_use","id":"toolu_014wDr5Bm9gtrmmsumKhNhPt","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_014wDr5Bm9gtrmmsumKhNhPt","content":[{"type":"text","text":"Ruby"}]}]}],"stream":true,"max_tokens":8000,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}],"system":[{"type":"text","text":"You
        must use tools whenever possible."}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 22 Oct 2025 21:41:43 GMT
      Content-Type:
      - text/event-stream; charset=utf-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Ray:
      - "<CF_RAY>"
      Cache-Control:
      - no-cache
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '400000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '399000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-10-22T21:41:43Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '80000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-10-22T21:41:43Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '4000'
      Anthropic-Ratelimit-Requests-Remaining:
      - '3999'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-10-22T21:41:43Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '480000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '479000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-10-22T21:41:43Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - "<ANTHROPIC_ORGANIZATION_ID>"
      X-Envoy-Upstream-Service-Time:
      - '538'
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
    body:
      encoding: UTF-8
      string: |+
        event: message_start
        data: {"type":"message_start","message":{"model":"claude-3-5-haiku-20241022","id":"msg_01L1xWUqdrGdWpFfyqJVqx6d","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":678,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":4,"service_tier":"standard"}}               }

        event: content_block_start
        data: {"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"The tool consistently"}   }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" recommends Ruby as the"}        }

        event: ping
        data: {"type": "ping"}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" best language to learn."} }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" This"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" reinfor"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"ces the"}}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" previous"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" suggestion"} }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" that Ruby is currently"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" considere"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"d an"}     }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" excellent programming"}               }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" language for learning"}           }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"."}      }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" \n\nThe recommendation"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" remains"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" the same:"}          }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" Ruby is a"}           }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" great"}        }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" choice for those"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" looking"}              }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" to start"}           }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" their programming journey or ad"}        }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"d a"}               }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" new language to their skill"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"set. Its user"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"-friendly syntax, versat"}            }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"ility in"}    }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" web development, and strong"}    }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" community support make it an"} }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" attractive"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" option for many asp"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"iring programm"}           }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"ers.\n\nIs"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" there anything specific"}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" you'd like to"}             }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" know about Ruby or why"}}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" it might"}}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" be a"}  }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" good language"}              }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" to learn?"}       }

        event: content_block_stop
        data: {"type":"content_block_stop","index":0 }

        event: message_delta
        data: {"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"input_tokens":678,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":117}         }

        event: message_stop
        data: {"type":"message_stop"}

  recorded_at: Wed, 22 Oct 2025 21:41:45 GMT
recorded_with: VCR 6.3.1
...
